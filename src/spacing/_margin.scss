@mixin margin($args: 0) {
  $use-null: false;

  @if type-of($args) == 'list' {
    @if type-of(first($args)) == 'string' {
      @each $dir in top, left, bottom, right {
        $i: index($args, $dir);

        @if $i {
          margin-#{$dir}: nth($args, $i + 1);
        }
      }
    } @else {
      $l: length($args);

      @for $i from 1 through $l {
        @if nth($args, $i) == null {
          $use-null: true;
        }
      }

      @if not $use-null {
        @if $l == 2 {
          $t-b: first($args);
          $r-l: nth($args, 2);

          margin: $t-b $r-l;
        } @else if $l == 3 {
          $t: first($args);
          $r-l: nth($args, 2);
          $b: nth($args, 3);

          margin: $t $r-l $b;
        } @else {
          $t: first($args);
          $r: nth($args, 2);
          $b: nth($args, 3);
          $l: nth($args, 4);

          margin: $t $r $b $l;
        }
      } @else {
        @if $l == 2 {
          margin-top: first($args);
          margin-right: nth($args, 2);
          margin-bottom: first($args);
          margin-left: nth($args, 2);
        } @else if $l == 3 {
          margin-top: first($args);
          margin-right: nth($args, 2);
          margin-bottom: nth($args, 3);
          margin-left: nth($args, 2);
        } @else {
          margin-top: first($args);
          margin-right: nth($args, 2);
          margin-bottom: nth($args, 3);
          margin-left: nth($args, 4);
        }
      }
    }
  } @else {
    margin: $args;
  }
}

//* -------------------------------------------------------------------------- */

@mixin m($value) {
  @include margin($value);
}

@mixin mx($value) {
  $value_length: length($value);
  @if $value_length == 1 {
    @include margin(left $value right $value);
  }
  @if $value_length > 1 {
    @include margin(left first($value) right last($value));
  }
}

@mixin my($value) {
  $value_length: length($value);
  @if $value_length == 1 {
    @include margin(top $value bottom $value);
  }
  @if $value_length > 1 {
    @include margin(top first($value) bottom last($value));
  }
}
