// @include flex-item(grow 1 shrink 0 basis 100%);
// @include flex-item(self-start);

@mixin flex-item($args) {
  @if $args != null {
    // align-self
    @each $keyword
      in self-auto
      self-normal
      self-start
      self-end
      self-center
      self-stretch
      self-baseline
      self-first-baseline
      self-last-baseline
      self-safe
      self-unsafe
      self-inherit
      self-initial
      self-unset
    {
      $self-value-index: index($args, $keyword);
      @if $self-value-index {
        $self-value: nth($args, $self-value-index);
        @include align-self($self-value, flex);
      }
    }

    @if is-include-items($args, auto initial none) {
      @if index($args, auto) {
        @include flex(auto);
      }
      @if index($args, initial) {
        @include flex(initial);
      }
      @if index($args, none) {
        @include flex(none);
      }
    }

    @if is-include-items($args, grow shrink basis) {
      // flex-grow
      $grow-value: get-value-after-key($args, grow);
      // flex-shrink
      $shrink-value: get-value-after-key($args, shrink);
      // flex-basis
      $basis-value: get-value-after-key($args, basis);

      // flex
      @include flex(
        if($grow-value, $grow-value, 0) if($shrink-value, $shrink-value, 1)
          if($basis-value, $basis-value, auto)
      );
    }

    // order
    order: get-value-after-key($args, order);
  }
}

@mixin flex-i($args) {
  @include flex-item($args);
}
